# Gif picker

Этот проект - реализация тестового задания на стажировку VK в команду веб-мессенджера.

![image](https://i.imgur.com/yY4lW5w.png)

---

## Демо

[Ссылка на приложение](https://mashtapok.github.io/vk-test-2022)

---

## Стек:

* React
* TypeScript
* react-transition-group

## Реализовано:

* Активация пикера при вводе команды `/gif` и определение поисковой фразы после пробела
* Если после команды `/gif` и пробела пользователь не вводит поисковую фразу, то показываются гифки из раздела "Тренды"
* Подсветка команды `/gif` градиентом
* Вывод гифок в виде masonry сетки
* "Бесконечный" скролл с загрузкой гифок
* Отправка выбранной гифки в список сообщений
* Отправка текстовых сообщений по нажатию на Enter (отступать от макета в Figma я не стал)
* Группировка сообщений по времени
* Возможность выделения и удаления сообщений
* Управление с клавиатуры и доступность
* Поддержка двух цветовых схем (светлая и тёмная) с автоподстройкой под тему браузера
* Плавные анимации

---

### Подсветка команды

Реализацию подсветки команды `/gif` я видел двумя способами:

1. Использование нативного `<textarea>` со скрытым текстом внутри и "наложенным" поверх блоком, в котором распарсенное
   содержимое textarea подсвечивается в случае ввода команды.
2. Использование атрибута `contentEditable` для создания собственного поля ввода.

Второй вариант показался мне более сложным и интересным, поэтому я решил попробовать реализовать его.

### Доступность

* Поддерживается управление с клавиатуры через клавишу `TAB`. (управление стрелками с masonry grid реализовать довольно
  сложно и я, к сожалению, не успел придумать решение).
* Сделана отправка сообщения по нажатию на `Enter`, если гифка находится в фокусе.
* Закрытие пикера по нажатию на `Escape`
* Проставлены атрибуты `alt` , `aria-label` и другие aria- атрибуты

### Оптимизации

* Debounce ввода поисковой фразы
* Динамическая пагинация при скролле по 25 гифок с дебаунсом;
* Из API Giphy запрашивается подходящий набор разрешений изображений, тем самым уменьшается размер response

### Исходный макет в Figma:

[ссылка](https://www.figma.com/file/tiqe4OR4MQXNZKeB9GmxL3/GIF-picker)

### Запуск с помощью Docker

1. Необходимо сперва удалить поле "homepage" в package.json (оно используется для gh-pages)
2. В терминале ввести команду: `docker build -t vk-test .`
3. Затем: `docker run -dp <ваш_порт>:8080 vk-test`
4. Открыть приложение в браузере по адресу: `http://localhost:<ваш_порт>`
