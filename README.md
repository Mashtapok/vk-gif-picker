# Gif picker

Этот проект - реализация тестового задания на стажировку VK в комманду веб-мессенджера.

![image](https://8110cd2d.png)

---

## Стек:
* React
* TypeScript
* react-transition-group

## Реализовано:

* Активация пикера при вводе команды `/gif` и определение поисковой фразы после пробела
* Если после команды `/gif` и пробела пользователь не вводит поисковую фразу, то показываются гифки из раздела "Тренды"
* Подсветка команды `/gif` градиентом
* Вывод гифок в виде masonry сетки
* "Бесконечный" скролл с дозагрузкой гифок
* Отправка выбранной гифки в список сообщений
* Возможность выделения и удаления сообщений
* Плавные анимации
* Управление с клавиатуры и доступность
* Поддержка двух цветовых схем (светлая и тёмная) с автоподстройкой под тему браузера

---
### Подсветка команды

Реализацию подсветки команды `/gif` я видел двумя способами:
1. Использование нативного `<textarea>` со скрытым текстом внутри и "наложенным" поверх блоком, в котором распарсенное содержимое textarea подсвечивается в случае ввода команды.
2. Использование атрибута `contentEditable` для создания собственного поля ввода.

Второй вариант показался мне более сложным и интересным, поэтому я решил попробовать реализовать его.

### Доступность
* Поддерживается управление с клавиаутуры через клавишу `TAB`. (управление стрелками с masonry grid реализовать довольно
  сложно и я, к сожалению, не успел придумать решение).
* Сделана отправка сообщения по нажатию на `Enter`, если гифка находится в фокусе.
* Проставлены атрибуты `alt` и `aria-label` для скринридеров.

### Оптимизации
* Debounce запросов на ввод поисковой фразы
* Динамическая пагинация по 25 гифок при скролле с дебаунсингом
* Запрашиваем из API Giphy только нужный набор разрешений изображений, сокращая размера response

### Макет в Figma:
[ссылка](https://www.figma.com/file/tiqe4OR4MQXNZKeB9GmxL3/GIF-picker)


### Запуск с помощью Docker
1. Необходимо сперва удалить поле "homepage" в package.json (оно используется для gh-pages)
2. В терминале ввести команду: `docker build -t vk-test .`
3. Затем: `docker run -dp <ваш_порт>:8080 vk-test`
4. Открыть приложение в браузере по адресу: `http://localhost:<ваш_порт>`
